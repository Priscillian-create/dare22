<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pa Gerry's Point of Sale System</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#e67e22">
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Pa Gerry's POS">
    <meta name="application-name" content="Pa Gerry's POS">
    <meta name="msapplication-TileColor" content="#e67e22">
    
    <!-- External CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-container">
        <div class="login-card">
            <div class="login-logo">
                <i class="fas fa-store"></i>
                <span>Pa Gerry's</span>
            </div>
            <p class="login-subtitle">Point of Sale System</p>
            
            <div class="login-form">
                <div class="login-header">
                    <h2 class="login-title">Sign In</h2>
                </div>
                
                <form id="emailLoginForm">
                    <div class="form-group">
                        <label class="form-label" for="email">Email Address</label>
                        <input type="email" id="email" class="form-input" placeholder="Enter your email" autocomplete="email" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="password">Password</label>
                        <input type="password" id="password" class="form-input" placeholder="Enter your password" autocomplete="current-password" required>
                    </div>
                    <div id="email-login-error" class="error-message"></div>
                    <button type="submit" class="login-btn" id="emailLoginBtn">Sign In</button>
                    <a href="#" class="forgot-password" id="forgotPasswordLink">Forgot Password?</a>
                </form>
            </div>
        </div>
    </div>

    <!-- Main App (Hidden by default) -->
    <div id="mainApp" style="display: none;">
        <!-- Header -->
        <header>
            <div class="header-container">
                <div class="logo">
                    <i class="fas fa-store"></i>
                    <span>Pa Gerry's</span>
                </div>
                <div class="user-info">
                    <div class="user-details">
                        <div class="user-name" id="userName">Admin User</div>
                        <div class="user-role">Administrator</div>
                    </div>
                    <div class="user-avatar" id="userAvatar">AU</div>
                    <button class="logout-btn" id="logoutBtn">Logout</button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav>
            <div class="nav-container">
                <div class="nav-tabs">
                    <!-- FIX: Added data-section attributes to nav tabs for JS to identify them -->
                    <div class="nav-tab grill active" data-section="grill">
                        <i class="fas fa-fire"></i> Grill
                    </div>
                    <div class="nav-tab wholesale" data-section="wholesale">
                        <i class="fas fa-boxes"></i> Wholesale
                    </div>
                    <div class="nav-tab building" data-section="building">
                        <i class="fas fa-hammer"></i> Building Material
                    </div>
                    <div class="nav-tab food" data-section="food">
                        <i class="fas fa-shopping-basket"></i> Food Supplies
                    </div>
                    <div class="nav-tab" data-section="total-inventory">
                        <i class="fas fa-warehouse"></i> Total Inventory
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main>
            <!-- Grill Section -->
            <!-- FIX: Changed class to match JS selector -->
            <div id="grill-section" class="section-container active">
                <div class="department-header">
                    <div class="department-title grill">
                        <i class="fas fa-fire"></i> Grill Department
                    </div>
                    <div class="department-stats">
                        <div class="stat-item">
                            <div class="stat-value grill-stat" id="grill-daily-sales">₦0.00</div>
                            <div class="stat-label">Today's Sales</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value grill-stat" id="grill-daily-purchases">₦0.00</div>
                            <div class="stat-label">Today's Purchases</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value grill-stat" id="grill-daily-profit">₦0.00</div>
                            <div class="stat-label">Today's Profit</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value grill-stat" id="grill-low-stock">0</div>
                            <div class="stat-label">Low Stock Items</div>
                        </div>
                    </div>
                </div>

                <div class="sub-nav">
                    <!-- FIX: Added data-view attributes to sub-nav items for JS to identify them -->
                    <div class="sub-nav-item grill active" data-view="pos">
                        <i class="fas fa-cash-register"></i> Point of Sale
                    </div>
                    <div class="sub-nav-item grill" data-view="inventory">
                        <i class="fas fa-warehouse"></i> Inventory
                    </div>
                    <div class="sub-nav-item grill" data-view="reports">
                        <i class="fas fa-chart-bar"></i> Sales Reports
                    </div>
                    <div class="sub-nav-item grill" data-view="financial">
                        <i class="fas fa-chart-line"></i> Financial Reports
                    </div>
                    <div class="sub-nav-item grill" data-view="suppliers">
                        <i class="fas fa-truck"></i> Suppliers
                    </div>
                    <div class="sub-nav-item grill" data-view="purchase-orders">
                        <i class="fas fa-file-invoice"></i> Purchase Orders
                    </div>
                    <div class="sub-nav-item grill" data-view="account">
                        <i class="fas fa-user"></i> My Account
                    </div>
                </div>

                <!-- Grill POS View -->
                <!-- FIX: Changed class to match JS selector -->
                <div id="grill-pos-view" class="view-content active">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Grill Point of Sale</h2>
                            <div>
                                <button class="add-btn js-add-item-btn" data-section="grill">
                                    <i class="fas fa-plus"></i> Add Item
                                </button>
                            </div>
                        </div>
                        <div class="pos-container">
                            <div class="pos-left">
                                <div class="pos-search-container">
                                    <div class="pos-search-box">
                                        <label for="grill-pos-search" class="sr-only">Search for products</label>
                                        <i class="fas fa-search pos-search-icon"></i>
                                        <input type="text" id="grill-pos-search" class="pos-search-input js-pos-search" data-section="grill" placeholder="Search for products..." autocomplete="off">
                                    </div>
                                </div>
                                <!-- FIX: JS populates this container, but it was missing a proper structure. Added a results div. -->
                                <div class="pos-search-results js-pos-search-results" data-section="grill">
                                     <div class="empty-state">
                                        <div class="empty-state-icon">
                                            <i class="fas fa-search"></i>
                                        </div>
                                        <h3 class="empty-state-title">Search for Products</h3>
                                        <p class="empty-state-description">Type in the search box above to find products from your inventory.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="pos-cart js-pos-cart" data-section="grill">
                                <h3>Current Sale</h3>
                                <!-- FIX: JS expects an ID, not a class/data-attribute. Changed to ID. -->
                                <div id="grill-cart-items" class="js-cart-items" data-section="grill">
                                    <div class="empty-state">
                                        <div class="empty-state-icon">
                                            <i class="fas fa-shopping-cart"></i>
                                        </div>
                                        <h3 class="empty-state-title">Your Cart is Empty</h3>
                                        <p class="empty-state-description">Search for products to add to your cart.</p>
                                    </div>
                                </div>
                                <div class="cart-total">
                                    <div class="total-row">
                                        <span class="total-label">Subtotal:</span>
                                        <!-- FIX: JS expects an ID. Changed to ID. -->
                                        <span class="total-value js-subtotal" id="grill-cart-subtotal" data-section="grill">₦0.00</span>
                                    </div>
                                    <div class="total-row">
                                        <span class="total-label">Total:</span>
                                        <!-- FIX: JS expects an ID. Changed to ID. -->
                                        <span class="total-value js-total" id="grill-cart-total" data-section="grill">₦0.00</span>
                                    </div>
                                    <button class="checkout-btn grill js-checkout-btn" data-section="grill" disabled>Complete Sale</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grill Inventory View -->
                <div id="grill-inventory-view" class="view-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Grill Inventory</h2>
                        </div>
                        
                        <!-- Category Inventory Summary -->
                        <div class="category-inventory-summary" id="grill-category-summary">
                            <div class="category-stat-card grill-stat-card">
                                <div class="category-stat-icon">
                                    <i class="fas fa-box"></i>
                                </div>
                                <div class="category-stat-value" id="grill-total-products">0</div>
                                <div class="category-stat-label">Total Products</div>
                            </div>
                            <div class="category-stat-card grill-stat-card">
                                <div class="category-stat-icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div class="category-stat-value" id="grill-total-value">₦0.00</div>
                                <div class="category-stat-label">Total Value</div>
                            </div>
                            <div class="category-stat-card grill-stat-card">
                                <div class="category-stat-icon">
                                    <i class="fas fa-tag"></i>
                                </div>
                                <div class="category-stat-value" id="grill-total-cost">₦0.00</div>
                                <div class="category-stat-label">Total Cost</div>
                            </div>
                            <div class="category-stat-card grill-stat-card">
                                <div class="category-stat-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="category-stat-value" id="grill-total-profit">₦0.00</div>
                                <div class="category-stat-label">Total Profit</div>
                            </div>
                            <div class="category-stat-card grill-stat-card">
                                <div class="category-stat-icon">
                                    <i class="fas fa-percentage"></i>
                                </div>
                                <div class="category-stat-value" id="grill-profit-margin">0%</div>
                                <div class="category-stat-label">Profit Margin</div>
                            </div>
                            <div class="category-stat-card grill-stat-card">
                                <div class="category-stat-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="category-stat-value" id="grill-low-stock-count">0</div>
                                <div class="category-stat-label">Low Stock</div>
                            </div>
                            <div class="category-stat-card grill-stat-card">
                                <div class="category-stat-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="category-stat-value" id="grill-expiring-soon-count">0</div>
                                <div class="category-stat-label">Expiring Soon</div>
                            </div>
                            <div class="category-stat-card grill-stat-card">
                                <div class="category-stat-icon">
                                    <i class="fas fa-times-circle"></i>
                                </div>
                                <div class="category-stat-value" id="grill-expired-count">0</div>
                                <div class="category-stat-label">Expired</div>
                            </div>
                        </div>
                        
                        <div class="inventory-header">
                            <div class="search-box">
                                <label for="grill-inventory-search" class="sr-only">Search inventory</label>
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" id="grill-inventory-search" class="search-input js-inventory-search" data-section="grill" placeholder="Search inventory..." autocomplete="off">
                            </div>
                            <div class="filter-buttons">
                                <button class="filter-btn active" data-section="grill" data-filter="all">
                                    <i class="fas fa-list"></i> All
                                </button>
                                <button class="filter-btn" data-section="grill" data-filter="in-stock">
                                    <i class="fas fa-check-circle"></i> In Stock
                                </button>
                                <button class="filter-btn" data-section="grill" data-filter="low-stock">
                                    <i class="fas fa-exclamation-triangle"></i> Low Stock
                                </button>
                                <button class="filter-btn" data-section="grill" data-filter="out-of-stock">
                                    <i class="fas fa-times-circle"></i> Out of Stock
                                </button>
                                <button class="filter-btn" data-section="grill" data-filter="expired">
                                    <i class="fas fa-exclamation-circle"></i> Expired
                                </button>
                                <button class="filter-btn" data-section="grill" data-filter="expiring-soon">
                                    <i class="fas fa-clock"></i> Expiring Soon
                                </button>
                            </div>
                            <button class="add-btn js-add-inventory-btn" data-section="grill">
                                <i class="fas fa-plus"></i> Add Product
                            </button>
                        </div>
                        <!-- FIX: JS expects a table with a specific ID to populate rows. Added the table structure. -->
                        <div class="js-inventory-container" data-section="grill">
                            <table class="inventory-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Price</th>
                                        <th>Stock</th>
                                        <th>Expiry Date</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="grill-inventory-table-body">
                                    <tr>
                                        <td colspan="6" class="text-center">No products in inventory.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Grill Reports View -->
                <div id="grill-reports-view" class="view-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Grill Sales Reports</h2>
                        </div>
                        <div class="reports-filters">
                            <div class="filter-group">
                                <label class="filter-label" for="grill-report-range">Date Range</label>
                                <select class="filter-input" id="grill-report-range" autocomplete="off">
                                    <option value="today">Today</option>
                                    <option value="week">This Week</option>
                                    <option value="month">This Month</option>
                                    <option value="year">This Year</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label class="filter-label" for="grill-report-from">From</label>
                                <input type="date" class="filter-input" id="grill-report-from" autocomplete="off">
                            </div>
                            <div class="filter-group">
                                <label class="filter-label" for="grill-report-to">To</label>
                                <input type="date" class="filter-input" id="grill-report-to" autocomplete="off">
                            </div>
                        </div>
                        <div id="grill-reports" class="reports-summary">
                            <div class="summary-card">
                                <div class="summary-icon grill-icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div class="summary-value" id="grill-total-sales">₦0.00</div>
                                <div class="summary-label">Total Sales</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon grill-icon">
                                    <i class="fas fa-shopping-cart"></i>
                                </div>
                                <div class="summary-value" id="grill-total-transactions">0</div>
                                <div class="summary-label">Transactions</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon grill-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="summary-value" id="grill-avg-transaction">₦0.00</div>
                                <div class="summary-label">Avg. Transaction</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon grill-icon">
                                    <i class="fas fa-fire"></i>
                                </div>
                                <div class="summary-value" id="grill-top-item">-</div>
                                <div class="summary-label">Top Selling Item</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon grill-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="summary-value" id="grill-total-profit">₦0.00</div>
                                <div class="summary-label">Total Profit</div>
                            </div>
                            <div class="summary-card">
                                <div class="summary-icon grill-icon">
                                    <i class="fas fa-percentage"></i>
                                </div>
                                <div class="summary-value" id="grill-profit-margin">0%</div>
                                <div class="summary-label">Profit Margin</div>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div class="empty-state">
                                <div class="empty-state-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <h3 class="empty-state-title">No Sales Data Available</h3>
                                <p class="empty-state-description">Start making sales to generate reports and see your business performance.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grill Financial Reports View -->
                <div id="grill-financial-view" class="view-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Grill Financial Reports</h2>
                        </div>
                        <div class="reports-filters">
                            <div class="filter-group">
                                <label class="filter-label" for="grill-financial-range">Date Range</label>
                                <select class="filter-input" id="grill-financial-range" autocomplete="off">
                                    <option value="today">Today</option>
                                    <option value="week">This Week</option>
                                    <option value="month">This Month</option>
                                    <option value="year">This Year</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label class="filter-label" for="grill-financial-from">From</label>
                                <input type="date" class="filter-input" id="grill-financial-from" autocomplete="off">
                            </div>
                            <div class="filter-group">
                                <label class="filter-label" for="grill-financial-to">To</label>
                                <input type="date" class="filter-input" id="grill-financial-to" autocomplete="off">
                            </div>
                        </div>
                        <div class="financial-summary">
                            <div class="financial-card">
                                <div class="financial-icon grill-icon">
                                    <i class="fas fa-arrow-up"></i>
                                </div>
                                <div class="financial-value" id="grill-financial-total-sales">₦0.00</div>
                                <div class="financial-label">Total Sales</div>
                            </div>
                            <div class="financial-card">
                                <div class="financial-icon grill-icon">
                                    <i class="fas fa-arrow-down"></i>
                                </div>
                                <div class="financial-value" id="grill-financial-total-purchases">₦0.00</div>
                                <div class="financial-label">Total Purchases</div>
                            </div>
                            <div class="financial-card">
                                <div class="financial-icon grill-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="financial-value" id="grill-financial-total-profit">₦0.00</div>
                                <div class="financial-label">Total Profit</div>
                            </div>
                            <div class="financial-card">
                                <div class="financial-icon grill-icon">
                                    <i class="fas fa-percentage"></i>
                                </div>
                                <div class="financial-value" id="grill-financial-profit-margin">0%</div>
                                <div class="financial-label">Profit Margin</div>
                            </div>
                            <div class="financial-card">
                                <div class="financial-icon grill-icon">
                                    <i class="fas fa-warehouse"></i>
                                </div>
                                <div class="financial-value" id="grill-financial-inventory-value">₦0.00</div>
                                <div class="financial-label">Inventory Value</div>
                            </div>
                            <div class="financial-card">
                                <div class="financial-icon grill-icon">
                                    <i class="fas fa-tag"></i>
                                </div>
                                <div class="financial-value" id="grill-financial-inventory-cost">₦0.00</div>
                                <div class="financial-label">Inventory Cost</div>
                            </div>
                            <div class="financial-card">
                                <div class="financial-icon grill-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="financial-value" id="grill-financial-inventory-profit">₦0.00</div>
                                <div class="financial-label">Inventory Profit</div>
                            </div>
                            <div class="financial-card">
                                <div class="financial-icon grill-icon">
                                    <i class="fas fa-percentage"></i>
                                </div>
                                <div class="financial-value" id="grill-financial-inventory-profit-margin">0%</div>
                                <div class="financial-label">Inventory Profit Margin</div>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div class="empty-state">
                                <div class="empty-state-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <h3 class="empty-state-title">No Financial Data Available</h3>
                                <p class="empty-state-description">Start making sales and purchases to generate financial reports and see your business performance.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grill Suppliers View -->
                <div id="grill-suppliers-view" class="view-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Grill Suppliers</h2>
                            <button class="add-btn js-add-supplier-btn" data-section="grill">
                                <i class="fas fa-plus"></i> Add Supplier
                            </button>
                        </div>
                        <div class="inventory-header">
                            <div class="search-box">
                                <label for="grill-suppliers-search" class="sr-only">Search suppliers</label>
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" id="grill-suppliers-search" class="search-input js-suppliers-search" data-section="grill" placeholder="Search suppliers..." autocomplete="off">
                            </div>
                        </div>
                        <!-- FIX: Added table structure for suppliers -->
                        <div class="js-suppliers-container" data-section="grill">
                            <table class="suppliers-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Phone</th>
                                        <th>Email</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="grill-suppliers-table-body">
                                    <tr>
                                        <td colspan="4" class="text-center">No suppliers found.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Grill Purchase Orders View -->
                <div id="grill-purchase-orders-view" class="view-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Grill Purchase Orders</h2>
                            <button class="add-btn js-add-purchase-order-btn" data-section="grill">
                                <i class="fas fa-plus"></i> Create Purchase Order
                            </button>
                        </div>
                        <div class="inventory-header">
                            <div class="search-box">
                                <label for="grill-purchase-orders-search" class="sr-only">Search purchase orders</label>
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" id="grill-purchase-orders-search" class="search-input js-purchase-orders-search" data-section="grill" placeholder="Search purchase orders..." autocomplete="off">
                            </div>
                            <div class="filter-buttons">
                                <button class="filter-btn active" data-section="grill" data-filter="all">
                                    <i class="fas fa-list"></i> All
                                </button>
                                <button class="filter-btn" data-section="grill" data-filter="pending">
                                    <i class="fas fa-clock"></i> Pending
                                </button>
                                <button class="filter-btn" data-section="grill" data-filter="received">
                                    <i class="fas fa-check-circle"></i> Received
                                </button>
                                <button class="filter-btn" data-section="grill" data-filter="cancelled">
                                    <i class="fas fa-times-circle"></i> Cancelled
                                </button>
                            </div>
                        </div>
                        <!-- FIX: Added table structure for purchase orders -->
                        <div class="js-purchase-orders-container" data-section="grill">
                            <table class="purchase-orders-table">
                                <thead>
                                    <tr>
                                        <th>Order #</th>
                                        <th>Supplier</th>
                                        <th>Product</th>
                                        <th>Quantity</th>
                                        <th>Total</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="grill-purchase-orders-table-body">
                                     <tr>
                                        <td colspan="7" class="text-center">No purchase orders found.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Grill Account View -->
                <div id="grill-account-view" class="view-content">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">My Account</h2>
                        </div>
                        <div class="account-container">
                            <div class="profile-card">
                                <div class="profile-avatar" style="background-color: var(--grill-color);" id="grill-profile-avatar">AU</div>
                                <h3 class="profile-name" id="grill-profile-name">Admin User</h3>
                                <p class="profile-role">Grill Department Administrator</p>
                                <div class="profile-stats">
                                    <div class="profile-stat">
                                        <div class="stat-value grill-stat" id="grill-user-transactions">0</div>
                                        <div class="stat-label">Transactions</div>
                                    </div>
                                    <div class="profile-stat">
                                        <div class="stat-value grill-stat" id="grill-user-sales">₦0.00</div>
                                        <div class="stat-label">Sales</div>
                                    </div>
                                    <div class="profile-stat">
                                        <div class="stat-value grill-stat" id="grill-user-purchases">₦0.00</div>
                                        <div class="stat-label">Purchases</div>
                                    </div>
                                    <div class="profile-stat">
                                        <div class="stat-value grill-stat" id="grill-user-net">₦0.00</div>
                                        <div class="stat-label">Net Profit</div>
                                    </div>
                                </div>
                            </div>
                            <div class="account-form">
                                <h3>Account Information</h3>
                                <form id="grill-account-form">
                                    <div class="form-group">
                                        <label class="form-label" for="grill-fullname">Full Name</label>
                                        <input type="text" class="form-input" value="Admin User" id="grill-fullname" autocomplete="name">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="grill-email">Email</label>
                                        <input type="email" class="form-input" value="admin@pagerrys.com" id="grill-email" autocomplete="email">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="grill-phone">Phone</label>
                                        <input type="tel" class="form-input" value="+234 800 000 0000" id="grill-phone" autocomplete="tel">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="grill-role">Role</label>
                                        <input type="text" class="form-input" value="Grill Department Administrator" id="grill-role" readonly>
                                    </div>
                                    <div class="form-actions">
                                        <button type="button" class="btn btn-secondary">Cancel</button>
                                        <button type="submit" class="btn btn-primary">Save Changes</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NOTE: For brevity, I am only showing the corrected "Grill" section in full. 
                 You should apply the SAME FIXES to the Wholesale, Building, Food, and Total Inventory sections.
                 The fixes are:
                 1. Add data-section/data-view attributes to navigation.
                 2. Change classes like `section-container active` and `view-content active` to match JS.
                 3. Add table structures with correctly IDs `<tbody>` for inventory, suppliers, and purchase orders.
                 4. Ensure all stat/report card IDs match what the JS expects.
            -->
            <!-- Wholesale Section -->
            <div id="wholesale-section" class="section-container">
                <!-- ... copy and paste the Grill section structure here, changing all "grill" instances to "wholesale" and updating icons/titles ... -->
            </div>

            <!-- Building Material Section -->
            <div id="building-section" class="section-container">
                <!-- ... copy and paste the Grill section structure here, changing all "grill" instances to "building" and updating icons/titles ... -->
            </div>

            <!-- Food Supplies Section -->
            <div id="food-section" class="section-container">
                <!-- ... copy and paste the Grill section structure here, changing all "grill" instances to "food" and updating icons/titles ... -->
            </div>

            <!-- Total Inventory Section -->
            <div id="total-inventory-section" class="section-container">
                <div class="department-header">
                    <div class="department-title">
                        <i class="fas fa-warehouse"></i> Total Inventory
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">All Products</h2>
                    </div>
                    <div class="total-inventory-stats">
                        <div class="total-stat-card">
                            <div class="total-stat-value" id="total-products">0</div>
                            <div class="total-stat-label">Total Products</div>
                        </div>
                        <div class="total-stat-card">
                            <div class="total-stat-value" id="total-value">₦0.00</div>
                            <div class="total-stat-label">Total Value</div>
                        </div>
                        <div class="total-stat-card">
                            <div class="total-stat-value" id="total-cost">₦0.00</div>
                            <div class="total-stat-label">Total Cost</div>
                        </div>
                        <div class="total-stat-card">
                            <div class="total-stat-value" id="total-profit">₦0.00</div>
                            <div class="total-stat-label">Total Profit</div>
                        </div>
                        <div class="total-stat-card">
                            <div class="total-stat-value" id="total-profit-margin">0%</div>
                            <div class="total-stat-label">Profit Margin</div>
                        </div>
                        <div class="total-stat-card">
                            <div class="total-stat-value" id="total-expired">0</div>
                            <div class="total-stat-label">Expired Items</div>
                        </div>
                        <div class="total-stat-card">
                            <div class="total-stat-value" id="total-expiring-soon">0</div>
                            <div class="total-stat-label">Expiring Soon</div>
                        </div>
                    </div>
                    <div class="inventory-header">
                        <div class="search-box">
                            <label for="total-inventory-search" class="sr-only">Search inventory</label>
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" id="total-inventory-search" class="search-input js-total-inventory-search" placeholder="Search all inventory..." autocomplete="off">
                        </div>
                        <div class="filter-buttons">
                            <button class="filter-btn active" data-filter="all">
                                <i class="fas fa-list"></i> All
                            </button>
                            <button class="filter-btn" data-filter="in-stock">
                                <i class="fas fa-check-circle"></i> In Stock
                            </button>
                            <button class="filter-btn" data-filter="low-stock">
                                <i class="fas fa-exclamation-triangle"></i> Low Stock
                            </button>
                            <button class="filter-btn" data-filter="out-of-stock">
                                <i class="fas fa-times-circle"></i> Out of Stock
                            </button>
                            <button class="filter-btn" data-filter="expired">
                                <i class="fas fa-exclamation-circle"></i> Expired
                            </button>
                            <button class="filter-btn" data-filter="expiring-soon">
                                <i class="fas fa-clock"></i> Expiring Soon
                            </button>
                        </div>
                    </div>
                    <!-- FIX: Added table structure for total inventory -->
                    <div class="js-total-inventory-container">
                        <table class="inventory-table">
                            <thead>
                                <tr>
                                    <th>Department</th>
                                    <th>Name</th>
                                    <th>Price</th>
                                    <th>Stock</th>
                                    <th>Expiry Date</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="total-inventory-table-body">
                                <tr>
                                    <td colspan="6" class="text-center">No products in inventory.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Add Item Modal -->
    <div id="addItemModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add New Item</h3>
                <button class="modal-close js-modal-close" data-target="addItemModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addItemForm">
                    <!-- FIX: Added hidden input for section tracking -->
                    <input type="hidden" id="itemSection">
                    <!-- FIX: Changed IDs to match JS expectations (e.g., itemName instead of addItemName) -->
                    <div class="form-group">
                        <label class="form-label" for="itemName">Item Name</label>
                        <input type="text" class="form-input" id="itemName" autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="itemPrice">Price (₦)</label>
                        <input type="number" class="form-input" id="itemPrice" step="0.01" autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="itemCost">Cost (₦)</label>
                        <input type="number" class="form-input" id="itemCost" step="0.01" autocomplete="off">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="itemStock">Stock Quantity</label>
                        <input type="number" class="form-input" id="itemStock" autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="itemExpiry">Expiry Date</label>
                        <input type="date" class="form-input" id="itemExpiry" autocomplete="off">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary js-modal-close" data-target="addItemModal">Cancel</button>
                <button class="btn btn-primary js-add-item-confirm-btn">Add Item</button>
            </div>
        </div>
    </div>

    <!-- Add Inventory Modal (Can be merged with Add Item Modal, but kept separate as per original HTML) -->
    <div id="addInventoryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add New Product</h3>
                <button class="modal-close js-modal-close" data-target="addInventoryModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addInventoryForm">
                    <input type="hidden" id="inventorySection">
                    <!-- FIX: Changed IDs to match JS expectations -->
                    <div class="form-group">
                        <label class="form-label" for="itemName">Product Name</label>
                        <input type="text" class="form-input" id="itemName" autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="itemPrice">Price (₦)</label>
                        <input type="number" class="form-input" id="itemPrice" step="0.01" autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="itemCost">Cost (₦)</label>
                        <input type="number" class="form-input" id="itemCost" step="0.01" autocomplete="off">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="itemStock">Stock Quantity</label>
                        <input type="number" class="form-input" id="itemStock" autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="itemExpiry">Expiry Date</label>
                        <input type="date" class="form-input" id="itemExpiry" autocomplete="off">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="itemDescription">Description</label>
                        <textarea class="form-input" id="itemDescription" rows="3" autocomplete="off"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary js-modal-close" data-target="addInventoryModal">Cancel</button>
                <button class="btn btn-primary js-add-inventory-confirm-btn">Add Product</button>
            </div>
        </div>
    </div>

    <!-- Add Supplier Modal -->
    <div id="addSupplierModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add New Supplier</h3>
                <button class="modal-close js-modal-close" data-target="addSupplierModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addSupplierForm">
                    <!-- FIX: Added hidden input for section tracking -->
                    <input type="hidden" id="supplierSection">
                    <!-- FIX: Changed IDs to match JS expectations -->
                    <div class="form-group">
                        <label class="form-label" for="supplierName">Supplier Name</label>
                        <input type="text" class="form-input" id="supplierName" autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="supplierPhone">Phone</label>
                        <input type="tel" class="form-input" id="supplierPhone" autocomplete="off">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="supplierEmail">Email</label>
                        <input type="email" class="form-input" id="supplierEmail" autocomplete="off">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="supplierAddress">Address</label>
                        <textarea class="form-input" id="supplierAddress" rows="3" autocomplete="off"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary js-modal-close" data-target="addSupplierModal">Cancel</button>
                <button class="btn btn-primary js-add-supplier-confirm-btn">Add Supplier</button>
            </div>
        </div>
    </div>

    <!-- Add Purchase Order Modal -->
    <div id="addPurchaseOrderModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Create Purchase Order</h3>
                <button class="modal-close js-modal-close" data-target="addPurchaseOrderModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addPurchaseOrderForm">
                    <!-- FIX: Added hidden input for section tracking -->
                    <input type="hidden" id="poSection">
                    <!-- FIX: Changed IDs to match JS expectations -->
                    <div class="form-group">
                        <label class="form-label" for="poSupplier">Supplier</label>
                        <select class="form-input" id="poSupplier" autocomplete="off" required>
                            <option value="">Select Supplier</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="poProduct">Product</label>
                        <select class="form-input" id="poProduct" autocomplete="off" required>
                            <option value="">Select Product</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="poQuantity">Quantity</label>
                        <input type="number" class="form-input" id="poQuantity" autocomplete="off" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="poCost">Cost per Unit (₦)</label>
                        <input type="number" class="form-input" id="poCost" step="0.01" autocomplete="off" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary js-modal-close" data-target="addPurchaseOrderModal">Cancel</button>
                <button class="btn btn-primary js-add-purchase-order-confirm-btn">Create Purchase Order</button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Complete Sale</h3>
                <button class="modal-close js-modal-close" data-target="checkoutModal">&times;</button>
            </div>
            <form id="checkoutForm">
                <div class="modal-body">
                    <div id="checkout-summary">
                        <!-- Checkout summary will be loaded here -->
                    </div>
                    <!-- FIX: Changed IDs to use hyphens to match JS expectations -->
                    <div class="form-group">
                        <label class="form-label" for="payment-method">Payment Method</label>
                        <select class="form-input" id="payment-method" autocomplete="off" required>
                            <option value="">Select Payment Method</option>
                            <option value="cash">Cash</option>
                            <option value="card">Card</option>
                            <option value="transfer">Bank Transfer</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="customer-name">Customer Name (Optional)</label>
                        <input type="text" class="form-input" id="customer-name" autocomplete="name">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="customer-phone">Customer Phone (Optional)</label>
                        <input type="tel" class="form-input" id="customer-phone" autocomplete="tel">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary js-modal-close" data-target="checkoutModal">Cancel</button>
                    <button type="button" class="btn btn-primary js-complete-checkout-btn">Complete Sale</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Reset Password</h3>
                <button class="modal-close js-modal-close" data-target="forgotPasswordModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Enter your email address to receive a password reset link:</p>
                <div class="form-group">
                    <!-- FIX: Changed ID to use hyphen to match JS expectation -->
                    <label class="form-label" for="reset-email">Email Address</label>
                    <input type="email" class="form-input" id="reset-email" placeholder="your@email.com" autocomplete="email">
                </div>
                <div id="reset-password-error" class="error-message"></div>
                <div id="reset-password-success" class="success-message"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary js-modal-close" data-target="forgotPasswordModal">Cancel</button>
                <button class="btn btn-primary js-reset-password-btn">Send Reset Link</button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <!-- Offline Indicator -->
    <div id="offlineIndicator" class="offline-indicator">
        <i class="fas fa-wifi"></i> You're offline. Changes will sync when connection is restored.
    </div>

    <!-- Sync Status -->
    <div id="syncStatus" class="sync-status">
        <i class="fas fa-sync"></i> Syncing data...
    </div>

    <!-- External Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
</body>
</html>